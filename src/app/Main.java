package app;

import java.util.Random; // Імпорт класу для генерації випадкових чисел
import java.util.Arrays;  // Імпорт класу для красивого виведення масиву

public class Main {

    public static void main(String[] args) {

        // 1.Створюємо масив з 20 елементів
        int[] a = new int[20]; // a - це наш масив чисел
        Random r = new Random(); // r - об'єкт для генерації випадкових чисел

        // 2. Заповнюємо масив випадковими числами від -100 до 100
        for (int i = 0; i < 20; i++) {          // цикл від 0 до 19
            a[i] = r.nextInt(201) - 100;       // random.nextInt(201) дає 0..200, мінус 100 -> -100..100
        }

        // 3. Виводимо масив на консоль
        System.out.println("Елементи масиву: " + Arrays.toString(a));
        System.out.println("----------------------------");

        // 4. Сума всіх від'ємних чисел
        int s = 0; // s - змінна для суми від'ємних чисел
        for (int i = 0; i < 20; i++) {             // проходимо весь масив
            if (a[i] < 0) {                        // перевіряємо, чи число від'ємне
                s = s + a[i];                       // додаємо від'ємне число до суми
                System.out.println("Додаємо " + a[i] + " до суми -> тепер сума = " + s);
            }
        }
        System.out.println("Сума всіх від'ємних чисел: " + s);
        System.out.println("----------------------------");

        // 5. Рахуємо кількість парних і непарних чисел
        int p = 0; // p - парні числа
        int n = 0; // n - непарні числа
        for (int i = 0; i < 20; i++) {               // проходимо масив
            if (a[i] % 2 == 0) {                   // перевірка на парність
                p = p + 1;                           // збільшуємо на один парні
                System.out.println(a[i] + " парне -> парні = " + p);
            } else {
                n = n + 1;                           // збільшуємо на один не парні
                System.out.println(a[i] + " непарне -> непарні = " + n);
            }
        }
        System.out.println("Кількість парних чисел: " + p);
        System.out.println("Кількість непарних чисел: " + n);
        System.out.println("----------------------------");

        // 6. Знаходимо мінімальне і максимальне числа та їх індекси
        int min = a[0];       // мінімальне число, перший елемент
        int max = a[0];       // максимальне число ,перший елемент
        int i_min = 0;        // індекс мінімуму
        int i_max = 0;        // індекс максимуму

        for (int i = 0; i < 20; i++) {
            if (a[i] < min) {                        // якщо знайшли число менше за поточний мінімум
                min = a[i];                          // оновлюємо мінімум
                i_min = i;                            // зберігаємо індекс
                System.out.println("Новий мінімум: " + min + " (індекс " + i_min + ")");
            }
            if (a[i] > max) {                        // якщо знайшли число більше за поточний максимум
                max = a[i];                          // оновлюємо максимум
                i_max = i;                            // зберігаємо індекс
                System.out.println("Новий максимум: " + max + " (індекс " + i_max + ")");
            }
        }
        System.out.println("Найменший елемент: " + min + " (індекс " + i_min + ")");
        System.out.println("Найбільший елемент: " + max + " (індекс " + i_max + ")");
        System.out.println("----------------------------");

        // 7. Знаходимо середнє арифметичне чисел після першого від'ємного
        int first_neg = -1; // змінна для індексу першого від'ємного числа
        for (int i = 0; i < 20; i++) {
            if (a[i] < 0) {                    // знаходимо перше від'ємне число
                first_neg = i;                  // зберігаємо індекс
                System.out.println("Перший від'ємний елемент " + a[i] + " (індекс " + i + ")");
                break;                          // зупиняємо цикл після першого від'ємного
            }
        }

        if (first_neg == -1 || first_neg == 19) { // перевіряємо, чи є числа після першого від'ємного
            System.out.println("Від'ємних чисел немає або немає чисел після першого від'ємного.");
        } else {
            double sum_after = 0;       // сума чисел після першого від'ємного
            int count_after = 0;        // кількість чисел після першого від'ємного
            for (int i = first_neg + 1; i < 20; i++) {
                sum_after = sum_after + a[i];  // додаємо число до суми
                count_after = count_after + 1; // збільшуємо кількість
                System.out.println("Додаємо " + a[i] + " -> сума = " + sum_after + ", кількість = " + count_after);
            }
            double avg = sum_after / count_after; // обчислюємо середнє
            System.out.println("Середнє арифметичне чисел після першого від'ємного: " + avg);
        }
    }
}